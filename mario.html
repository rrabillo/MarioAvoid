<!DOCTYPE html>
<html class="no-js" lang="fr">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title>Mario</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
</head>

<style type="text/css">

	@-webkit-keyframes walking-right {
		0% { background-image: url('./images/mario2.png');}
		100% { background-image: url('./images/mario3.png');}
	}
	@-webkit-keyframes walking-left {
		0% { background-image: url('./images/mario7.png');}
		100% { background-image: url('./images/mario8.png');}
	}
	
	body{
		position: relative;
	}
	#mario{
		height: 47px;
		width: 31px;

		background-image: url('./images/mario1.png');
		background-repeat: no-repeat;

		position: absolute;		
	}
	.right{
		-webkit-animation: walking-right .7s 0s step(2, end) infinite;
	}
	.left{
		-webkit-animation: walking-left .7s 0s step(1, end) infinite;
	}


</style>

<body>

	<div id="mario"></div>

</body>

<script type="text/javascript">

$(function(){	
	
	var mario = document.getElementById('mario'),
		position = document.getElementById('mario').offsetLeft;

	function move_right(){
		var mario = document.getElementById('mario'),
			position = document.getElementById('mario').offsetLeft,
			new_position = position + 15;	

		mario.setAttribute("class", "right");	
		mario.style.left = new_position+"px";
		setTimeout('mario.setAttribute("class", "")', 800);
	}

	function move_left(){
		var mario = document.getElementById('mario'),
			position = document.getElementById('mario').offsetLeft,
			new_position = position - 15;	

		mario.setAttribute("class", "left");	
		mario.style.left = new_position+"px";
		setTimeout('mario.setAttribute("class", "")', 800);
	}

	document.addEventListener('keydown', function (e){

		var x = e.keyCode;

	    if(x == 39) {
	    	
			move_right();
			

	    } else if(x == 37) {

			move_left();

	    }
	});

});

</script>

</html>